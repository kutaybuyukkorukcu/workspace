import java.io.DataInputStream;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.Random;

class Client {
	private Socket socket = null;
	private DataInputStream input = null;
	private DataOutputStream output = null;
	private static int MIN = 1;
	private static int MAX = 100;
	public static String IP = "127.0.0.1";
	
	public Client(String address, int port) {
		try {
			socket = new Socket(address, port);
			System.out.println("Connected");

			input = new DataInputStream(System.in);
			output = new DataOutputStream(socket.getOutputStream());
			
			/*String line = "";
			do {
				try {
					System.out.print(MIN + " ile " + MAX + " arasýnda bir sayý giriniz : ");
					line = input.readLine();
					if (Server.numberGuessed == Integer.parseInt(line)) {
						socket.close();
						input.close();
						output.close();
					}
					output.writeUTF(line);
					output.flush();
				} catch (IOException i) {
					System.out.println(i);
				}
			} while (Server.numberGuessed != Integer.parseInt(line)); */
			
			String line = ""; // 0 verince EOFException?!
			String temp = "";
			// while (Server.numberGuessed != Integer.parseInt(line)) line = -1 
			// !input.equals(String.valueOf(Server.numberGuessed))
			do {
				try {
					System.out.print(MIN + " ile " + MAX + " arasýnda bir sayý giriniz : ");
					line = input.readLine();
					if (line.equals(temp)) {
						System.out.println("Bu sayi icin tahminde bulunmustunuz!");
						continue;
					}
					temp = line;
					output.writeUTF(line);
					output.flush();
				} catch (IOException i) {
					System.out.println(i);
				} catch (NumberFormatException e) {
					System.out.println(e);
				}
			} while (socket.isConnected());
			
			System.out.println("closed");

			socket.close();
			input.close();
			output.close();
		} catch (IOException e) {
			e.printStackTrace();
		} 
	}

	public static void main(String args[]) {
		Client client = new Client(IP, Server.PORT);
	}
}
